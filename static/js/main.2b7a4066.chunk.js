(this["webpackJsonpannotation-tool"]=this["webpackJsonpannotation-tool"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t(36)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(15),c=t.n(r),s=t(7),i=(t(23),t(3));t(24);var o=t(49);t(25);let m=[];var d=function(e){let{csvFile:a,onCsvUpload:t}=e;const[r,c]=Object(l.useState)(!1),[s,i]=Object(l.useState)([]),[d,u]=Object(l.useState)(""),[p,E]=Object(l.useState)(""),[f,g]=Object(l.useState)(""),[h,v]=Object(l.useState)(""),[b,N]=Object(l.useState)(!1);return Object(l.useEffect)(()=>{c(!!a)},[a]),n.a.createElement("div",{className:"upload-section"},r?n.a.createElement("div",{className:"stream-section"},n.a.createElement("div",{className:"log-section"},n.a.createElement("h3",{className:"log-title"},"Change Log"),n.a.createElement("div",{className:"input-container"},n.a.createElement("div",{className:"input-group"},n.a.createElement("input",{type:"text",placeholder:"A",value:f,onChange:e=>g(e.target.value),className:"styled-input"}),n.a.createElement("input",{type:"text",placeholder:"B",value:h,onChange:e=>v(e.target.value),className:"styled-input"}),n.a.createElement("input",{type:"text",placeholder:"New Class ID",value:p,onChange:e=>E(e.target.value),className:"styled-input"})),n.a.createElement("div",{className:"button-group"},n.a.createElement("button",{onClick:()=>{f.trim()?(i([...s,{newClassId:p,A:f,B:h}]),E(""),g(""),v("")):alert("Please enter the track id requiring modification before logging.")},className:"btn-primary"},"Register Changes"),n.a.createElement("button",{onClick:async()=>{if(0!==s.length)try{const e=await fetch("http://localhost:5000/save-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:s})}),a=await e.json();if(e.ok&&a.success){const e=document.querySelector("img[data-mjpeg-stream]");if(e){const a="http://127.0.0.1:5000/mjpeg-stream",t=Date.now();e.src=`${a}?t=${t}`}alert("Logs successfully saved to backend. Stream will update automatically."),i([])}else alert(a.message||"Failed to update ID and reprocess video.")}catch(e){console.error("Error updating ID:",e),alert(e.message||"Error updating ID.")}else alert("No data to send.")},className:"btn-secondary"},"Make Changes"))),s.length>0&&n.a.createElement("div",{className:"table-container"},n.a.createElement("div",{className:"table-header"},n.a.createElement("span",{className:"entry-count"},s.length," ",1===s.length?"Entry":"Entries")),n.a.createElement("div",{className:"table-wrapper"},n.a.createElement("table",{className:"log-table"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Track ID"),n.a.createElement("th",null,"Frame ID"),n.a.createElement("th",null,"New Class ID"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,s.map((e,a)=>n.a.createElement("tr",{key:a,className:"table-row"},n.a.createElement("td",{className:"track-id"},e.A),n.a.createElement("td",{className:"frame-id"},e.B),n.a.createElement("td",{className:"class-id"},n.a.createElement("span",{className:"class-badge"},e.newClassId)),n.a.createElement("td",{className:"actions"},n.a.createElement("button",{onClick:()=>{return e=a,void i(s.filter((a,t)=>t!==e));var e},className:"btn-remove",title:"Remove entry"},"\xd7")))))))),0===s.length&&r&&n.a.createElement("div",{className:"empty-state"},n.a.createElement("div",{className:"empty-icon"},"\ud83d\udcdd"),n.a.createElement("p",null,"No changes registered yet"),n.a.createElement("small",null,'Fill in the fields above and click "Register Changes" to add entries')))):n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"csv-upload",className:"upload-btn"},"Upload CSV"),n.a.createElement("input",{id:"csv-upload",type:"file",accept:".csv",style:{display:"none"},onChange:async e=>{const a=e.target.files[0];if(!a)return;if("text/csv"!==a.type)return void alert("Please upload a valid CSV file.");const l=new FormData;l.append("csv",a);try{if(200!==(await o.a.post("http://127.0.0.1:5000/upload-csv",l,{headers:{"Content-Type":"multipart/form-data"}})).status)throw new Error("Server returned non-200 status");alert("CSV file processed successfully. Starting MJPEG stream..."),await(async()=>{try{var e;const a=await o.a.get("http://127.0.0.1:5000/get-frame-numbers");(null===(e=a.data)||void 0===e?void 0:e.end_frames)&&(m=a.data.end_frames,alert("Received frames: "+m.join(", ")))}catch(a){console.error("Error fetching frames:",a)}})(),(()=>{const e=document.querySelector("#mjpeg-container");if(e){const a=Date.now();e.innerHTML=`\n        <img \n          src="http://127.0.0.1:5000/mjpeg-stream?t=${a}" \n          alt="MJPEG Stream" \n          data-mjpeg-stream="true"\n          style="max-width: 100%; height: auto; border: 1px solid #ccc;"\n          onload="this.style.opacity = '1'"\n          onerror="console.error('MJPEG stream error')"\n        />\n      `,N(!0)}})(),t(a,m),c(!0)}catch(r){console.error("CSV upload error:",r);let e="Error uploading CSV file";var n;if(r.response)e=(null===(n=r.response.data)||void 0===n?void 0:n.message)||r.response.statusText||e;else e=r.message||e;alert(e)}}})))};t(30);var u=function(e){let{csvFile:a}=e;const[t,r]=Object(l.useState)(null),[c,s]=Object(l.useState)(!1),[i,m]=Object(l.useState)(!1),[d,u]=Object(l.useState)(!1),[p,E]=Object(l.useState)(""),[f,g]=Object(l.useState)(""),[h,v]=Object(l.useState)(0),[b,N]=Object(l.useState)({frames:[],trackIds:[]}),[y,k]=Object(l.useState)(null),[C,S]=Object(l.useState)(-1),[w,j]=Object(l.useState)(!1),O=Object(l.useRef)(null),I=Object(l.useRef)(null);Object(l.useEffect)(()=>{u(!!a),a&&_()},[a]);const _=async()=>{try{const e=await o.a.get("http://127.0.0.1:5000/get-frame-numbers");e.data.end_frames&&e.data.track_ids&&(N({frames:e.data.end_frames,trackIds:e.data.track_ids}),console.log("Fetched frame data:",e.data))}catch(e){console.error("Error fetching frame numbers:",e)}},D=()=>{const e=Date.now();r("http://127.0.0.1:5000/mjpeg-stream?t="+e),s(!0),x()},x=()=>{F(),I.current=setInterval(async()=>{try{const e=await o.a.get("http://127.0.0.1:5000/current-frame");void 0!==e.data.current_frame&&null!==e.data.current_frame&&(v(e.data.current_frame),P(e.data.current_frame))}catch(e){console.error("Error fetching current frame:",e),e.response&&400===e.response.status&&(console.warn("Backend not ready, pausing frame tracking"),F(),setTimeout(()=>{c&&!w&&x()},2e3))}},150)},F=()=>{I.current&&(clearInterval(I.current),I.current=null)},T=()=>{if(O.current){const e=Date.now(),a="http://127.0.0.1:5000/mjpeg-stream";O.current.src=`${a}?t=${e}`}},P=e=>{const a=b.frames.findIndex(a=>a===e);S(a),k(a>=0?b.trackIds[a]:null)},A=e=>{(async e=>{if(!w){j(!0);try{F();(await o.a.post("http://127.0.0.1:5000/seek-frame",{frame:e})).data.success&&(v(e),P(e),await new Promise(e=>setTimeout(e,200)),T(),setTimeout(()=>{c&&!w&&x()},300))}catch(a){console.error("Error seeking frame:",a),setTimeout(()=>{c&&x()},300)}finally{setTimeout(()=>j(!1),500)}}})(e)};return Object(l.useEffect)(()=>()=>{F()},[]),n.a.createElement("div",{className:"video-player"},!t&&n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"video-upload",className:"upload-btn"},"Upload Video"),n.a.createElement("input",{id:"video-upload",type:"file",accept:"video/*",style:{display:"none"},onChange:async e=>{const a=e.target.files[0];if(a&&a.type.startsWith("video/")){const e=new FormData;e.append("video",a);try{(await o.a.post("http://127.0.0.1:5000/upload-video",e,{headers:{"Content-Type":"multipart/form-data"}})).data.success?(D(),alert("Video uploaded successfully. Starting stream...")):alert("Error uploading video.")}catch(t){console.error("Video upload error:",t),alert("Error uploading video.")}}else alert("Please upload a valid video file.")}})),t&&n.a.createElement("div",{style:{position:"relative",width:"100%"}},n.a.createElement("img",{ref:O,className:"stream-element",src:t,alt:"MJPEG Stream",style:{width:"100%",height:"auto",maxHeight:"500px",border:"1px solid #ccc",filter:i?"brightness(0.8)":"none"},onError:e=>{console.error("Stream error:",e),setTimeout(T,1e3)}}),i&&n.a.createElement("div",{className:"dimming-overlay"})),t&&n.a.createElement("div",{className:"controls"},n.a.createElement("button",{onClick:async()=>{if(!w){j(!0);try{const e=await o.a.post("http://127.0.0.1:5000/toggle-playback");e.data.success&&(s(e.data.is_playing),e.data.is_playing?x():F())}catch(e){console.error("Error toggling playback:",e)}finally{j(!1)}}},disabled:w},w?"Processing...":c?"Pause Stream":"Resume Stream"),n.a.createElement("button",{onClick:T,style:{marginLeft:"10px"}},"Refresh Stream"),n.a.createElement("div",{className:"frame-info"},n.a.createElement("span",null,"Frame: ",h),null!==y&&n.a.createElement("span",{className:"track-id"},"| Track ID: ",y))),t&&n.a.createElement("div",{className:"frame-navigation"},n.a.createElement("button",{onClick:()=>{if(0!==b.frames.length)if(C>0)A(b.frames[C-1]);else if(0===C)A(b.frames[b.frames.length-1]);else{const e=b.frames.findIndex(e=>e>=h)-1;A(e>=0?b.frames[e]:b.frames[b.frames.length-1])}else alert("No frame data available. Please upload a CSV file first.")},disabled:w},"Previous Frame"),n.a.createElement("button",{onClick:()=>{if(0!==b.frames.length)if(C>=0&&C<b.frames.length-1)A(b.frames[C+1]);else if(C===b.frames.length-1)A(b.frames[0]);else{const e=b.frames.findIndex(e=>e>h);A(e>=0?b.frames[e]:b.frames[0])}else alert("No frame data available. Please upload a CSV file first.")},disabled:w},"Next Frame"),n.a.createElement("div",{className:"frame-info"},b.frames.length>0&&n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Available frames: ",b.frames.length," | "),n.a.createElement("span",null,"Position: ",C>=0?C+1:"N/A"," of ",b.frames.length))),n.a.createElement("div",{className:"frame-jump"},n.a.createElement("label",null,"Jump to Frame: "),n.a.createElement("select",{onChange:e=>{const a=parseInt(e.target.value);isNaN(a)||A(a)},value:b.frames.includes(h)?h:"",style:{marginLeft:"5px",padding:"2px"}},n.a.createElement("option",{value:""},"Select frame..."),b.frames.map((e,a)=>n.a.createElement("option",{key:a,value:e},"Frame ",e," (Track ID: ",b.trackIds[a],")")))),n.a.createElement("div",{className:"frame-input"},n.a.createElement("label",null,"Or enter frame number: "),n.a.createElement("input",{type:"number",min:"0",placeholder:"Frame number",onKeyPress:e=>{if("Enter"===e.key){const a=parseInt(e.target.value);!isNaN(a)&&a>=0&&(A(a),e.target.value="")}},style:{marginLeft:"5px",width:"100px"}}))))},p=t(37),E=t(38),f=t(39),g=t(40),h=t(41),v=t(42),b=t(43);t(31),t(32);var N=()=>n.a.createElement("button",{onClick:async()=>{try{const e=await fetch("http://127.0.0.1:5000/download_csv",{method:"GET"});if(!e.ok)throw new Error("Failed to download CSV");const a=await e.blob(),t=window.URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download="updated_annotations.csv",document.body.appendChild(l),l.click(),l.remove(),window.URL.revokeObjectURL(t)}catch(e){console.error("Error downloading CSV:",e),alert("Failed to download CSV")}},className:"download-csv-btn"},"Download Updated CSV");const y=e=>{let{title:a,icon:t,children:r,defaultOpen:c=!1}=e;const[s,i]=Object(l.useState)(c);return n.a.createElement("div",{className:"analytics-section-container"},n.a.createElement("button",{className:"analytics-section-header "+(s?"open":""),onClick:()=>i(!s)},n.a.createElement("div",{className:"section-title-container"},n.a.createElement(t,{size:20,className:"section-icon"}),n.a.createElement("h3",{className:"section-title"},a)),s?n.a.createElement(p.a,{size:20}):n.a.createElement(E.a,{size:20})),n.a.createElement("div",{className:"analytics-section-content "+(s?"open":"")},n.a.createElement("div",{className:"section-content-inner"},r)))},k=e=>{let{label:a,value:t,type:l="default"}=e;return n.a.createElement("div",{className:"metric-item "+("highlight"===l?"metric-highlight":"warning"===l&&"number"===typeof t&&t<.5?"metric-warning":"metric-default")},n.a.createElement("span",{className:"metric-label"},a.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())),n.a.createElement("span",{className:"metric-value"},"number"===typeof(r=t)?a.toLowerCase().includes("score")||a.toLowerCase().includes("consistency")||a.toLowerCase().includes("stability")?(100*r).toFixed(1)+"%":r%1===0?r.toString():r.toFixed(2):r));var r},C=e=>{let{trackId:a,summary:t,trackStatus:l}=e;const r=t.end_frame-t.start_frame+1;return n.a.createElement("div",{className:"track-card track-"+l},n.a.createElement("div",{className:"track-header"},n.a.createElement("span",{className:"track-id"},"Track ",a),n.a.createElement("span",{className:"track-status "+l},l.toUpperCase())),n.a.createElement("div",{className:"track-details"},n.a.createElement("div",{className:"track-detail-row"},n.a.createElement("span",{className:"detail-label"},"Duration:"),n.a.createElement("span",{className:"detail-value"},r," frames (",t.start_frame,"-",t.end_frame,")")),n.a.createElement("div",{className:"track-detail-row"},n.a.createElement("span",{className:"detail-label"},"Detections:"),n.a.createElement("span",{className:"detail-value"},t.total_detections)),n.a.createElement("div",{className:"track-detail-row"},n.a.createElement("span",{className:"detail-label"},"Gaps:"),n.a.createElement("span",{className:"detail-value"},t.gaps)),n.a.createElement("div",{className:"track-detail-row"},n.a.createElement("span",{className:"detail-label"},"Avg Confidence:"),n.a.createElement("span",{className:"detail-value"},(100*t.avg_confidence).toFixed(1),"%"))))};var S=()=>{const[e,a]=Object(l.useState)(null),[t,r]=Object(l.useState)(!1),[c,s]=Object(l.useState)(null),[i,o]=Object(l.useState)(!0),[m,d]=Object(l.useState)(""),[u,p]=Object(l.useState)(""),[E,S]=Object(l.useState)("all"),w=e=>e.avg_confidence>.9?"excellent":e.avg_confidence>.7?"good":e.avg_confidence>.5?"fair":"poor",j=()=>{let a=Object.entries(e.tracks_summary);if(m&&(a=a.filter(e=>{let[a]=e;return a.toString().toLowerCase().includes(m.toLowerCase())})),u){const e=parseInt(u);isNaN(e)||(a=a.filter(a=>{let[t,l]=a;return e>=l.start_frame&&e<=l.end_frame}))}return"all"!==E&&(a=a.filter(e=>{let[a,t]=e;return w(t)===E})),a},O=()=>{d(""),p(""),S("all")},I=()=>m||u||"all"!==E;return n.a.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},n.a.createElement("h1",null,"Analytics Dashboard"),n.a.createElement("div",{className:"outputs-actions"},n.a.createElement("button",{className:"analytics-btn",onClick:async()=>{r(!0),s(null);try{const e=await fetch("http://127.0.0.1:5000/analytics"),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch analytics");a(t),o(!0)}catch(e){console.error("Error loading analytics:",e),s(e.message),o(!0)}finally{r(!1)}},disabled:t},t?"Loading...":"\ud83d\udcca View Analytics"),n.a.createElement(N,null)),c&&n.a.createElement("div",{className:"analytics-error"},n.a.createElement("h3",null,"\u274c Error Loading Analytics"),n.a.createElement("p",null,c),n.a.createElement("p",null,"Please check if your CSV file is uploaded and try again.")),t&&n.a.createElement("div",{className:"analytics-loading"},n.a.createElement("div",{className:"spinner"}),n.a.createElement("p",null,"Loading analytics data...")),i&&e&&!t&&n.a.createElement("div",{className:"analytics-dashboard"},n.a.createElement("div",{className:"analytics-header"},n.a.createElement("h2",null,"\ud83d\udcca Analytics Dashboard"),n.a.createElement("button",{className:"close-analytics-btn",onClick:()=>o(!1)},"\u2715")),n.a.createElement("div",{className:"frame-info"},n.a.createElement("div",{className:"frame-range"},"Frame ",e.start_frame," - ",e.end_frame),n.a.createElement("div",{className:"frame-label"},"Analysis Range \u2022 Total: ",e.end_frame-e.start_frame+1," frames")),n.a.createElement(y,{title:"Key Metrics",icon:f.a,defaultOpen:!0},n.a.createElement("div",{className:"metrics-grid"},Object.entries((()=>{const{metrics:a}=e;return{"Total Tracks":a.total_tracks,"Total Frames":a.total_frames,"Avg Detections/Frame":a.avg_detections_per_frame}})()).map(e=>{let[a,t]=e;return n.a.createElement(k,{key:a,label:a,value:t,type:"highlight"})}))),n.a.createElement(y,{title:"Performance Metrics",icon:g.a},n.a.createElement("div",{className:"metrics-grid"},Object.entries((()=>{const{metrics:a}=e;return{"Avg Track Duration":a.avg_track_duration,"Max Track Duration":a.max_track_duration,"Min Track Duration":a.min_track_duration,"Avg Track Fragmentation":a.avg_track_fragmentation,"Avg Size Consistency":a.avg_size_consistency,"Avg Confidence Stability":a.avg_confidence_stability}})()).map(e=>{let[a,t]=e;return n.a.createElement(k,{key:a,label:a,value:t,type:"default"})}))),n.a.createElement(y,{title:"Individual Tracks",icon:h.a},n.a.createElement("div",{className:"tracks-search-container"},n.a.createElement("div",{className:"search-inputs-row"},n.a.createElement("div",{className:"search-input-container"},n.a.createElement("label",{className:"search-input-label"},"Search by Track ID"),n.a.createElement(v.a,{className:"search-icon",size:16}),n.a.createElement("input",{type:"text",className:"search-input",placeholder:"Enter track ID (e.g., 1, 2, 3...)",value:m,onChange:e=>d(e.target.value)}),m&&n.a.createElement("button",{className:"clear-search",onClick:()=>d("")},n.a.createElement(b.a,{size:14}))),n.a.createElement("div",{className:"search-input-container"},n.a.createElement("label",{className:"search-input-label"},"Search by Frame Number"),n.a.createElement(v.a,{className:"search-icon",size:16}),n.a.createElement("input",{type:"number",className:"search-input",placeholder:"Enter frame number (e.g., 105)",value:u,onChange:e=>p(e.target.value),min:"1"}),u&&n.a.createElement("button",{className:"clear-search",onClick:()=>p("")},n.a.createElement(b.a,{size:14}))),I()&&n.a.createElement("button",{className:"clear-all-searches",onClick:O},"Clear All")),n.a.createElement("div",{className:"filter-container"},n.a.createElement("span",{className:"filter-label"},"Filter by Quality:"),n.a.createElement("div",{className:"status-filters"},Object.entries((()=>{const a=Object.entries(e.tracks_summary),t={all:a.length,excellent:0,good:0,fair:0,poor:0};return a.forEach(e=>{let[a,l]=e;const n=w(l);t[n]++}),t})()).map(e=>{let[a,t]=e;return n.a.createElement("button",{key:a,className:`status-filter-btn ${a} ${E===a?"active":""}`,onClick:()=>S(a)},a," (",t,")")}))),I()&&n.a.createElement("div",{className:"search-results-info"},n.a.createElement("span",{className:"results-count"},"Showing ",j().length," of ",Object.keys(e.tracks_summary).length," tracks",m&&` \u2022 Track ID: "${m}"`,u&&" \u2022 Frame: "+u,"all"!==E&&" \u2022 Quality: "+E),n.a.createElement("button",{className:"clear-all-btn",onClick:O},"Clear Filters"))),j().length>0?n.a.createElement("div",{className:"tracks-grid"},j().map(e=>{let[a,t]=e;return n.a.createElement(C,{key:a,trackId:a,summary:t,trackStatus:w(t)})})):n.a.createElement("div",{className:"no-results"},n.a.createElement("h3",null,"No tracks found"),n.a.createElement("p",null,m&&`No tracks found with ID containing "${m}"`,u&&!m&&"No tracks found containing frame "+u,m&&u&&" or containing frame "+u,!m&&!u&&"all"!==E&&`No ${E} quality tracks found`,!m&&!u&&"all"===E&&"Try adjusting your search criteria")))))},w=t(44),j=t(45),O=t(46);t(33);var I=()=>{const[e,a]=Object(l.useState)(!1),[t,r]=Object(l.useState)("all"),[c,s]=Object(l.useState)([]),[i,o]=Object(l.useState)([]),[m,d]=Object(l.useState)(""),[u,p]=Object(l.useState)(null),E=()=>{a(!1)},f=e=>{r(e),"all"===e&&v("/render-all-ids")},g=()=>{if(m.trim()&&!c.includes(m.trim())&&!i.includes(m.trim())){const e=[...c,m.trim()];s(e),d("")}},h=()=>m.trim()&&(c.includes(m.trim())||i.includes(m.trim())),v=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let l={};"/render-specific-ids"===e&&(l={ids:a},t&&(l.mode=t));const n=`${"http://127.0.0.1:5000"}${e}`;console.log("Calling endpoint: "+n,l);const r=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});if(r.ok){const a=await r.json();console.log(`Successfully called ${e}:`,a)}else{const a=await r.text();console.error(`Failed to call ${e}:`,r.status,a)}}catch(l){console.error(`Error calling ${e}:`,l)}},N=c.length+i.length;return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:()=>{a(!e)},className:"hamburger-btn","aria-label":"Open access menu"},n.a.createElement(w.a,{size:24})),e&&n.a.createElement("div",{className:"access-overlay",onClick:E}),n.a.createElement("div",{className:"access-bar "+(e?"open":"")},n.a.createElement("div",{className:"access-header"},n.a.createElement("h2",null,"Menu"),n.a.createElement("button",{onClick:E,className:"close-btn","aria-label":"Close access menu"},n.a.createElement(b.a,{size:24}))),n.a.createElement("div",{className:"access-content"},n.a.createElement("div",{className:"nav-section"},n.a.createElement("h3",null,"Display"),n.a.createElement("div",{className:"nav-items"},n.a.createElement("div",{className:"radio-group"},n.a.createElement("label",{className:"radio-option"},n.a.createElement("input",{type:"radio",name:"displayMode",value:"all",checked:"all"===t,onChange:()=>f("all")}),n.a.createElement("span",null,"All IDs")),n.a.createElement("label",{className:"radio-option"},n.a.createElement("input",{type:"radio",name:"displayMode",value:"specific",checked:"specific"===t,onChange:()=>f("specific")}),n.a.createElement("span",null,"Specific IDs"))),"specific"===t&&n.a.createElement("div",{className:"specific-ids-section"},n.a.createElement("div",{className:"id-input-container"},n.a.createElement("input",{type:"text",value:m,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"===e.key&&!h()&&m.trim()&&g()},placeholder:"Enter ID",className:"id-input"}),n.a.createElement("div",{className:"action-buttons"},n.a.createElement("button",{onClick:g,className:"include-id-btn",disabled:!m.trim()||h()},"Include"),n.a.createElement("button",{onClick:()=>{if(m.trim()&&!i.includes(m.trim())&&!c.includes(m.trim())){const e=[...i,m.trim()];o(e),d("")}},className:"exclude-id-btn",disabled:!m.trim()||h()},"Exclude"))),h()&&n.a.createElement("div",{className:"duplicate-warning"},"ID already exists in one of the lists"),c.length>0&&n.a.createElement("div",{className:"ids-list"},n.a.createElement("h4",{className:"list-title include-title"},"Include IDs (Show Only These)"),c.map((e,a)=>n.a.createElement("div",{key:a,className:"id-item include-id"},n.a.createElement("span",{className:"id-text"},e),n.a.createElement("button",{onClick:()=>(e=>{const a=c.filter(a=>a!==e);s(a)})(e),className:"delete-id-btn","aria-label":"Delete ID "+e},n.a.createElement(j.a,{size:16}))))),i.length>0&&n.a.createElement("div",{className:"ids-list"},n.a.createElement("h4",{className:"list-title exclude-title"},"Exclude IDs (Hide These)"),i.map((e,a)=>n.a.createElement("div",{key:a,className:"id-item exclude-id"},n.a.createElement("span",{className:"id-text"},e),n.a.createElement("button",{onClick:()=>(e=>{const a=i.filter(a=>a!==e);o(a)})(e),className:"delete-id-btn","aria-label":"Delete ID "+e},n.a.createElement(j.a,{size:16}))))),N>0&&n.a.createElement("div",{className:"filter-actions"},n.a.createElement("button",{onClick:()=>{"specific"===t&&(c.length>0&&0===i.length?(console.log("Including only IDs:",c),v("/render-specific-ids",c,"include")):i.length>0&&0===c.length?(console.log("Excluding IDs:",i),v("/render-specific-ids",i,"exclude")):c.length>0&&i.length>0?(console.warn("Both include and exclude IDs specified - prioritizing include mode"),v("/render-specific-ids",c,"include")):console.warn("No IDs specified for filtering"))},className:"apply-filter-btn"},"Apply Filter (",N," IDs)"),n.a.createElement("button",{onClick:async()=>{try{const e="http://127.0.0.1:5000",a=await fetch(e+"/clear-specific-ids",{method:"POST",headers:{"Content-Type":"application/json"}});if(a.ok){const e=await a.json();s([]),o([]),r("all"),console.log("Successfully cleared specific IDs:",e)}else{const e=await a.text();console.error("Failed to clear specific IDs:",a.status,e)}}catch(e){console.error("Error clearing specific IDs:",e)}},className:"clear-all-btn"},n.a.createElement(O.a,{size:16}),"Clear All"))))))))},_=(t(34),t(47)),D=t(48);function x(){const[e,a]=Object(l.useState)(null),[t,r]=Object(l.useState)([]),[c,s]=Object(l.useState)(!1),o=Object(i.p)();return n.a.createElement("div",{className:"app "+(c?"dark-mode":"light-mode")},n.a.createElement("div",{className:"sidebar"},n.a.createElement(d,{csvFile:e,onCsvUpload:(e,t)=>{a(e),r(t)}}),n.a.createElement(I,null),n.a.createElement("button",{onClick:()=>s(!c),className:"toggle-theme-btn"},c?n.a.createElement(_.a,{size:20}):n.a.createElement(D.a,{size:20}))),n.a.createElement("div",{className:"main"},n.a.createElement(u,{csvFile:e})),n.a.createElement("div",{className:"actions"},e&&n.a.createElement("button",{onClick:()=>o("/outputs"),className:"go-to-outputs-btn"},"Go to Outputs")))}var F=function(){return n.a.createElement(s.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",element:n.a.createElement("h1",null,"It Works!")}),n.a.createElement(i.a,{path:"/app",element:n.a.createElement(x,null)}),n.a.createElement(i.a,{path:"/outputs",element:n.a.createElement(S,null)})))};var T=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,50)).then(a=>{let{getCLS:t,getFID:l,getFCP:n,getLCP:r,getTTFB:c}=a;t(e),l(e),n(e),r(e),c(e)})};t(35);c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(s.b,null,n.a.createElement(F,null)))),T()}],[[17,1,2]]]);
//# sourceMappingURL=main.2b7a4066.chunk.js.map