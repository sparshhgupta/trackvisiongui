(this["webpackJsonpannotation-tool"]=this["webpackJsonpannotation-tool"]||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,a,t){e.exports=t(37)},,,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},,,,,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},,function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(15),s=t.n(r),c=t(7),i=(t(23),t(3));t(24);var o=function(){const e=Object(i.p)();return l.a.createElement("div",{className:"landing-container"},l.a.createElement("header",{className:"landing-header"},l.a.createElement("h1",null,"TrackVision"),l.a.createElement("p",{className:"tagline"},"The Smart Solution for Efficient Object Tracking Annotation"),l.a.createElement("p",{className:"subtagline"},"Reduce manual review time with our workflow")),l.a.createElement("section",{className:"value-proposition"},l.a.createElement("div",{className:"value-card"},l.a.createElement("h2",null,"Stop Wasting Time Scanning Entire Videos"),l.a.createElement("p",null,"Our system automatically detects potential ID switch frames from your tracking CSV, taking you straight to the critical moments that need verification."))),l.a.createElement("section",{className:"features-section"},l.a.createElement("h2",null,"Why Analysts Love TrackVision"),l.a.createElement("div",{className:"features-grid"},l.a.createElement("div",{className:"feature-card highlight-card"},l.a.createElement("h3",null,"\u23f1\ufe0f Smart Frame Navigation"),l.a.createElement("p",null,"Automatically jump to frames near potential ID switches - no more scrubbing through hours of footage.")),l.a.createElement("div",{className:"feature-card highlight-card"},l.a.createElement("h3",null,"\ud83d\udcca Batch Processing"),l.a.createElement("p",null,"Log multiple entries and process them in batches to minimize waiting time between operations.")))),l.a.createElement("section",{className:"how-it-works"},l.a.createElement("h2",null,"How To Use the Tool"),l.a.createElement("div",{className:"workflow-steps"},l.a.createElement("div",{className:"step"},l.a.createElement("div",{className:"step-number"},"1"),l.a.createElement("div",{className:"step-content"},l.a.createElement("h3",null,"Upload & Auto-Analyze"),l.a.createElement("p",null,"Simply upload your video and tracking CSV. Our system extracts all track details and flags potential ID switches automatically."))),l.a.createElement("div",{className:"step"},l.a.createElement("div",{className:"step-number"},"2"),l.a.createElement("div",{className:"step-content"},l.a.createElement("h3",null,"Smart Navigation"),l.a.createElement("p",null,"The tool takes you directly to frames where ID switches likely occurred, bypassing irrelevant footage."))),l.a.createElement("div",{className:"step"},l.a.createElement("div",{className:"step-number"},"3"),l.a.createElement("div",{className:"step-content"},l.a.createElement("h3",null,"Batch Correction"),l.a.createElement("p",null,"Make all your annotations in our log table, then apply them in a single batch operation."))))),l.a.createElement("div",{className:"cta-section"},l.a.createElement("div",{className:"cta-buttons"},l.a.createElement("button",{onClick:()=>e("/app"),className:"start-button primary"},"Start Saving Time Now"),l.a.createElement("button",{onClick:()=>e("/installation"),className:"start-button secondary"},"Download Desktop App")),l.a.createElement("p",{className:"secondary-cta"},"Try with our sample data to see the magic")))},m=t(50);t(25);let d=[];var u=function(e){let{csvFile:a,onCsvUpload:t}=e;const[r,s]=Object(n.useState)(!1),[c,i]=Object(n.useState)([]),[o,u]=Object(n.useState)(""),[p,E]=Object(n.useState)(""),[h,g]=Object(n.useState)(""),[f,b]=Object(n.useState)(""),[v,y]=Object(n.useState)(!1),[N,k]=Object(n.useState)({message:"",type:"",show:!1}),w=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;k({message:e,type:a,show:!0}),setTimeout(()=>{k(e=>({...e,show:!1}))},t)};return Object(n.useEffect)(()=>{s(!!a)},[a]),l.a.createElement("div",{className:"upload-section"},N.show&&l.a.createElement("div",{className:"notification notification-"+N.type,style:{position:"fixed",top:"20px",right:"20px",padding:"12px 20px",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:"500",zIndex:1e3,maxWidth:"400px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",animation:"slideIn 0.3s ease-out",backgroundColor:"success"===N.type?"#10b981":"error"===N.type?"#ef4444":"warning"===N.type?"#f59e0b":"#3b82f6"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},l.a.createElement("div",{style:{flex:1}},(N.message,N.message)),l.a.createElement("button",{onClick:()=>k(e=>({...e,show:!1})),style:{background:"none",border:"none",color:"white",fontSize:"18px",cursor:"pointer",marginLeft:"10px",padding:"0",lineHeight:"1"}},"\xd7"))),r?l.a.createElement("div",{className:"stream-section"},l.a.createElement("div",{className:"log-section"},l.a.createElement("h3",{className:"log-title"},"Change Log"),l.a.createElement("div",{className:"input-container"},l.a.createElement("div",{className:"input-group"},l.a.createElement("input",{type:"text",placeholder:"A",value:h,onChange:e=>g(e.target.value),className:"styled-input"}),l.a.createElement("input",{type:"text",placeholder:"B",value:f,onChange:e=>b(e.target.value),className:"styled-input"}),l.a.createElement("input",{type:"text",placeholder:"New Class ID",value:p,onChange:e=>E(e.target.value),className:"styled-input"})),l.a.createElement("div",{className:"button-group"},l.a.createElement("button",{onClick:()=>{h.trim()?(i([...c,{newClassId:p,A:h,B:f}]),E(""),g(""),b("")):w("Please enter the track id requiring modification before logging.","warning")},className:"btn-primary"},"Register Changes"),l.a.createElement("button",{onClick:async()=>{if(0!==c.length)try{const e=await fetch("http://localhost:5000/save-logs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({logs:c})}),a=await e.json();if(e.ok&&a.success){const e=document.querySelector("img[data-mjpeg-stream]");if(e){const a="http://127.0.0.1:5000/mjpeg-stream",t=Date.now();e.src=`${a}?t=${t}`}i([])}else w(a.message||"Failed to update ID and reprocess video.","error")}catch(e){console.error("Error updating ID:",e),e.message.includes("fetch")||"TypeError"===e.name?w(l.a.createElement(l.a.Fragment,null,"Error connecting to server. Please ensure the backend server is running."," ",l.a.createElement("a",{href:"https://sparshhgupta.github.io/trackvisiongui/#/installation",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Click here to know the installation steps.")),"error",1e4):w(e.message||"Error updating ID.","error")}else w("No data to send.","warning")},className:"btn-secondary"},"Make Changes"))),c.length>0&&l.a.createElement("div",{className:"table-container"},l.a.createElement("div",{className:"table-header"},l.a.createElement("span",{className:"entry-count"},c.length," ",1===c.length?"Entry":"Entries")),l.a.createElement("div",{className:"table-wrapper"},l.a.createElement("table",{className:"log-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Track ID"),l.a.createElement("th",null,"Frame ID"),l.a.createElement("th",null,"New Class ID"),l.a.createElement("th",null,"Actions"))),l.a.createElement("tbody",null,c.map((e,a)=>l.a.createElement("tr",{key:a,className:"table-row"},l.a.createElement("td",{className:"track-id"},e.A),l.a.createElement("td",{className:"frame-id"},e.B),l.a.createElement("td",{className:"class-id"},l.a.createElement("span",{className:"class-badge"},e.newClassId)),l.a.createElement("td",{className:"actions"},l.a.createElement("button",{onClick:()=>(e=>{c[e];i(c.filter((a,t)=>t!==e))})(a),className:"btn-remove",title:"Remove entry"},"\xd7")))))))),0===c.length&&r&&l.a.createElement("div",{className:"empty-state"},l.a.createElement("div",{className:"empty-icon"},"\ud83d\udcdd"),l.a.createElement("p",null,"No changes registered yet"),l.a.createElement("small",null,'Fill in the fields above and click "Register Changes" to add entries')))):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"csv-upload",className:"upload-btn"},"Upload CSV"),l.a.createElement("input",{id:"csv-upload",type:"file",accept:".csv",style:{display:"none"},onChange:async e=>{const a=e.target.files[0];if(!a)return;if("text/csv"!==a.type)return void w("Please upload a valid CSV file.","error");const n=new FormData;n.append("csv",a);try{if(200!==(await m.a.post("http://127.0.0.1:5000/upload-csv",n,{headers:{"Content-Type":"multipart/form-data"}})).status)throw new Error("Server returned non-200 status");await(async()=>{try{var e;const a=await m.a.get("http://127.0.0.1:5000/get-frame-numbers");(null===(e=a.data)||void 0===e?void 0:e.end_frames)&&(d=a.data.end_frames)}catch(a){console.error("Error fetching frames:",a),w(l.a.createElement(l.a.Fragment,null,"Error fetching frame data. Please ensure the backend server is running."," ",l.a.createElement("a",{href:"https://sparshhgupta.github.io/trackvisiongui/#/installation",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Click here to know the installation steps.")),"error",1e4)}})(),(()=>{const e=document.querySelector("#mjpeg-container");if(e){const a=Date.now();e.innerHTML=`\n        <img \n          src="http://127.0.0.1:5000/mjpeg-stream?t=${a}" \n          alt="MJPEG Stream" \n          data-mjpeg-stream="true"\n          style="max-width: 100%; height: auto; border: 1px solid #ccc;"\n          onload="this.style.opacity = '1'"\n          onerror="console.error('MJPEG stream error')"\n        />\n      `,y(!0)}})(),t(a,d),s(!0)}catch(c){console.error("CSV upload error:",c);let e="Error uploading CSV file";var r;if(c.response)e=(null===(r=c.response.data)||void 0===r?void 0:r.message)||c.response.statusText||e;else e=c.message||e;"ECONNREFUSED"===c.code||c.message.includes("Network Error")||!c.response?w(l.a.createElement(l.a.Fragment,null,"Error uploading CSV file. Please ensure the backend server is running."," ",l.a.createElement("a",{href:"https://sparshhgupta.github.io/trackvisiongui/#/installation",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Click here to know the installation steps.")),"error",1e4):w(e,"error")}}})),l.a.createElement("style",{jsx:!0},"\n        @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      "))};t(30);var p=function(e){let{csvFile:a}=e;const[t,r]=Object(n.useState)(null),[s,c]=Object(n.useState)(!1),[i,o]=Object(n.useState)(!1),[d,u]=Object(n.useState)(!1),[p,E]=Object(n.useState)(""),[h,g]=Object(n.useState)(""),[f,b]=Object(n.useState)(0),[v,y]=Object(n.useState)({frames:[],trackIds:[]}),[N,k]=Object(n.useState)(null),[w,C]=Object(n.useState)(-1),[x,S]=Object(n.useState)(!1),[O,j]=Object(n.useState)({message:"",type:"",show:!1}),D=Object(n.useRef)(null),I=Object(n.useRef)(null),T=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3;j({message:e,type:a,show:!0}),setTimeout(()=>{j(e=>({...e,show:!1}))},t)};Object(n.useEffect)(()=>{u(!!a),a&&F()},[a]);const F=async()=>{try{const e=await m.a.get("http://127.0.0.1:5000/get-frame-numbers");e.data.end_frames&&e.data.track_ids&&(y({frames:e.data.end_frames,trackIds:e.data.track_ids}),console.log("Fetched frame data:",e.data))}catch(e){console.error("Error fetching frame numbers:",e),T("Error fetching frame data. Please ensure the backend server is running.","error")}},_=()=>{const e=Date.now();r("http://127.0.0.1:5000/mjpeg-stream?t="+e),c(!0),A()},A=()=>{P(),I.current=setInterval(async()=>{try{const e=await m.a.get("http://127.0.0.1:5000/current-frame");void 0!==e.data.current_frame&&null!==e.data.current_frame&&(b(e.data.current_frame),L(e.data.current_frame))}catch(e){console.error("Error fetching current frame:",e),e.response&&400===e.response.status&&(console.warn("Backend not ready, pausing frame tracking"),P(),setTimeout(()=>{s&&!x&&A()},2e3))}},150)},P=()=>{I.current&&(clearInterval(I.current),I.current=null)},z=()=>{if(D.current){const e=Date.now(),a="http://127.0.0.1:5000/mjpeg-stream";D.current.src=`${a}?t=${e}`}},L=e=>{const a=v.frames.findIndex(a=>a===e);C(a),k(a>=0?v.trackIds[a]:null)},V=e=>{(async e=>{if(!x){S(!0);try{P();(await m.a.post("http://127.0.0.1:5000/seek-frame",{frame:e})).data.success&&(b(e),L(e),await new Promise(e=>setTimeout(e,200)),z(),setTimeout(()=>{s&&!x&&A()},300))}catch(a){console.error("Error seeking frame:",a),T("Error seeking to frame. Please try again.","error"),setTimeout(()=>{s&&A()},300)}finally{setTimeout(()=>S(!1),500)}}})(e)};return Object(n.useEffect)(()=>()=>{P()},[]),l.a.createElement("div",{className:"video-player"},O.show&&l.a.createElement("div",{className:"notification notification-"+O.type,style:{position:"fixed",top:"20px",right:"20px",padding:"12px 20px",borderRadius:"8px",color:"white",fontSize:"14px",fontWeight:"500",zIndex:1e3,maxWidth:"400px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",animation:"slideIn 0.3s ease-out",backgroundColor:"success"===O.type?"#10b981":"error"===O.type?"#ef4444":"warning"===O.type?"#f59e0b":"#3b82f6"}},l.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},l.a.createElement("div",{style:{flex:1}},(O.message,O.message)),l.a.createElement("button",{onClick:()=>j(e=>({...e,show:!1})),style:{background:"none",border:"none",color:"white",fontSize:"18px",cursor:"pointer",marginLeft:"10px",padding:"0",lineHeight:"1"}},"\xd7"))),!t&&l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"video-upload",className:"upload-btn"},"Upload Video"),l.a.createElement("input",{id:"video-upload",type:"file",accept:"video/*",style:{display:"none"},onChange:async e=>{const a=e.target.files[0];if(!a)return;if(!a.type.startsWith("video/"))return void T("Please upload a valid video file.","error");const t=new FormData;t.append("video",a);try{(await m.a.post("http://127.0.0.1:5000/upload-video",t,{headers:{"Content-Type":"multipart/form-data"}})).data.success?_():T("Error uploading video. Please try again.","error")}catch(n){console.error("Video upload error:",n),T(l.a.createElement(l.a.Fragment,null,"Error uploading video. Please ensure the backend server is running."," ",l.a.createElement("a",{href:"https://sparshhgupta.github.io/trackvisiongui/#/installation",target:"_blank",rel:"noopener noreferrer",style:{color:"#007bff",textDecoration:"underline"}},"Click here to know the installation steps.")),"error",1e4)}}})),t&&l.a.createElement("div",{style:{position:"relative",width:"100%"}},l.a.createElement("img",{ref:D,className:"stream-element",src:t,alt:"MJPEG Stream",style:{width:"100%",height:"auto",maxHeight:"500px",border:"1px solid #ccc",filter:i?"brightness(0.8)":"none"},onError:e=>{console.error("Stream error:",e),T("Stream connection lost. Attempting to reconnect...","warning"),setTimeout(z,1e3)}}),i&&l.a.createElement("div",{className:"dimming-overlay"})),t&&l.a.createElement("div",{className:"controls"},l.a.createElement("button",{onClick:async()=>{if(!x){S(!0);try{const e=await m.a.post("http://127.0.0.1:5000/toggle-playback");e.data.success&&(c(e.data.is_playing),e.data.is_playing?A():P())}catch(e){console.error("Error toggling playback:",e),T("Error controlling playback. Please check your connection.","error")}finally{S(!1)}}},disabled:x},x?"Processing...":s?"Pause Stream":"Resume Stream"),l.a.createElement("button",{onClick:z,style:{marginLeft:"10px"}},"Refresh Stream"),l.a.createElement("div",{className:"frame-info"},l.a.createElement("span",null,"Frame: ",f),null!==N&&l.a.createElement("span",{className:"track-id"},"| Track ID: ",N))),t&&l.a.createElement("div",{className:"frame-navigation"},l.a.createElement("button",{onClick:()=>{if(0!==v.frames.length)if(w>0)V(v.frames[w-1]);else if(0===w)V(v.frames[v.frames.length-1]);else{const e=v.frames.findIndex(e=>e>=f)-1;V(e>=0?v.frames[e]:v.frames[v.frames.length-1])}else T("No frame data available. Please upload a CSV file first.","warning")},disabled:x},"Previous Frame"),l.a.createElement("button",{onClick:()=>{if(0!==v.frames.length)if(w>=0&&w<v.frames.length-1)V(v.frames[w+1]);else if(w===v.frames.length-1)V(v.frames[0]);else{const e=v.frames.findIndex(e=>e>f);V(e>=0?v.frames[e]:v.frames[0])}else T("No frame data available. Please upload a CSV file first.","warning")},disabled:x},"Next Frame"),l.a.createElement("div",{className:"frame-info"},v.frames.length>0&&l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Available frames: ",v.frames.length," | "),l.a.createElement("span",null,"Position: ",w>=0?w+1:"N/A"," of ",v.frames.length))),l.a.createElement("div",{className:"frame-jump"},l.a.createElement("label",null,"Jump to Frame: "),l.a.createElement("select",{onChange:e=>{const a=parseInt(e.target.value);isNaN(a)||V(a)},value:v.frames.includes(f)?f:"",style:{marginLeft:"5px",padding:"2px"}},l.a.createElement("option",{value:""},"Select frame..."),v.frames.map((e,a)=>l.a.createElement("option",{key:a,value:e},"Frame ",e," (Track ID: ",v.trackIds[a],")")))),l.a.createElement("div",{className:"frame-input"},l.a.createElement("label",null,"Or enter frame number: "),l.a.createElement("input",{type:"number",min:"0",placeholder:"Frame number",onKeyPress:e=>{if("Enter"===e.key){const a=parseInt(e.target.value);!isNaN(a)&&a>=0&&(V(a),e.target.value="")}},style:{marginLeft:"5px",width:"100px"}}))),l.a.createElement("style",{jsx:!0},"\n        @keyframes slideIn {\n          from {\n            transform: translateX(100%);\n            opacity: 0;\n          }\n          to {\n            transform: translateX(0);\n            opacity: 1;\n          }\n        }\n      "))},E=t(38),h=t(39),g=t(40),f=t(41),b=t(42),v=t(43),y=t(44);t(31),t(32);var N=()=>{const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)(!1),s=(e,a)=>{const t=document.createElement("div");t.className="toast toast-"+a,t.textContent=e,t.style.cssText=`\n      position: fixed;\n      top: 20px;\n      right: 20px;\n      padding: 12px 24px;\n      background: ${"success"===a?"#4CAF50":"error"===a?"#f44336":"#ff9800"};\n      color: white;\n      border-radius: 6px;\n      box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n      z-index: 10000;\n      animation: slideIn 0.3s ease;\n    `,document.body.appendChild(t),setTimeout(()=>{t.style.animation="slideOut 0.3s ease",setTimeout(()=>t.remove(),300)},3e3)};return l.a.createElement("div",{className:"download-buttons-container"},l.a.createElement("button",{onClick:async()=>{a(!0);try{const e=await fetch("http://127.0.0.1:5000/download_csv",{method:"GET"});if(!e.ok)throw new Error("Failed to download CSV");const t=await e.blob(),n=window.URL.createObjectURL(t),l=e.headers.get("Content-Disposition");let r="updated_annotations.csv";if(l){const e=l.match(/filename="?(.+)"?/i);e&&e[1]&&(r=e[1])}const c=document.createElement("a");c.href=n,c.download=r,document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(n),console.log("Downloaded: "+r),s("Downloaded: "+r,"success")}catch(e){console.error("Error downloading CSV:",e),s("Failed to download CSV","error")}finally{a(!1)}},className:"download-csv-btn",disabled:e},e?"Downloading...":"Download Updated CSV"),l.a.createElement("button",{onClick:async()=>{r(!0);try{const e=await fetch("http://127.0.0.1:5000/download-tracking-changes",{method:"GET"});if(!e.ok){if(404===e.status)return void s("No tracking changes found. Make some changes first!","warning");throw new Error("Failed to download tracking changes")}const a=await e.blob(),t=window.URL.createObjectURL(a),n=document.createElement("a");n.href=t,n.download="tracking_changes.csv",document.body.appendChild(n),n.click(),n.remove(),window.URL.revokeObjectURL(t),console.log("Downloaded tracking changes"),s("Downloaded tracking changes log","success")}catch(e){console.error("Error downloading tracking changes:",e),s("Failed to download tracking changes","error")}finally{r(!1)}},className:"download-csv-btn download-changes-btn",disabled:t},t?"Downloading...":"Download Changes Log"))};const k=e=>{let{title:a,icon:t,children:r,defaultOpen:s=!1}=e;const[c,i]=Object(n.useState)(s);return l.a.createElement("div",{className:"analytics-section-container"},l.a.createElement("button",{className:"analytics-section-header "+(c?"open":""),onClick:()=>i(!c)},l.a.createElement("div",{className:"section-title-container"},l.a.createElement(t,{size:20,className:"section-icon"}),l.a.createElement("h3",{className:"section-title"},a)),c?l.a.createElement(E.a,{size:20}):l.a.createElement(h.a,{size:20})),l.a.createElement("div",{className:"analytics-section-content "+(c?"open":"")},l.a.createElement("div",{className:"section-content-inner"},r)))},w=e=>{let{label:a,value:t,type:n="default"}=e;return l.a.createElement("div",{className:"metric-item "+("highlight"===n?"metric-highlight":"warning"===n&&"number"===typeof t&&t<.5?"metric-warning":"metric-default")},l.a.createElement("span",{className:"metric-label"},a.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase())),l.a.createElement("span",{className:"metric-value"},"number"===typeof(r=t)?a.toLowerCase().includes("score")||a.toLowerCase().includes("consistency")||a.toLowerCase().includes("stability")?(100*r).toFixed(1)+"%":r%1===0?r.toString():r.toFixed(2):r));var r},C=e=>{let{trackId:a,summary:t,trackStatus:n}=e;const r=t.end_frame-t.start_frame+1;return l.a.createElement("div",{className:"track-card track-"+n},l.a.createElement("div",{className:"track-header"},l.a.createElement("span",{className:"track-id"},"Track ",a),l.a.createElement("span",{className:"track-status "+n},n.toUpperCase())),l.a.createElement("div",{className:"track-details"},l.a.createElement("div",{className:"track-detail-row"},l.a.createElement("span",{className:"detail-label"},"Duration:"),l.a.createElement("span",{className:"detail-value"},r," frames (",t.start_frame,"-",t.end_frame,")")),l.a.createElement("div",{className:"track-detail-row"},l.a.createElement("span",{className:"detail-label"},"Detections:"),l.a.createElement("span",{className:"detail-value"},t.total_detections)),l.a.createElement("div",{className:"track-detail-row"},l.a.createElement("span",{className:"detail-label"},"Gaps:"),l.a.createElement("span",{className:"detail-value"},t.gaps)),l.a.createElement("div",{className:"track-detail-row"},l.a.createElement("span",{className:"detail-label"},"Avg Confidence:"),l.a.createElement("span",{className:"detail-value"},(100*t.avg_confidence).toFixed(1),"%"))))};var x=()=>{const[e,a]=Object(n.useState)(null),[t,r]=Object(n.useState)(!1),[s,c]=Object(n.useState)(null),[i,o]=Object(n.useState)(!0),[m,d]=Object(n.useState)(""),[u,p]=Object(n.useState)(""),[E,h]=Object(n.useState)("all"),x=e=>e.avg_confidence>.9?"excellent":e.avg_confidence>.7?"good":e.avg_confidence>.5?"fair":"poor",S=()=>{let a=Object.entries(e.tracks_summary);if(m&&(a=a.filter(e=>{let[a]=e;return a.toString().toLowerCase().includes(m.toLowerCase())})),u){const e=parseInt(u);isNaN(e)||(a=a.filter(a=>{let[t,n]=a;return e>=n.start_frame&&e<=n.end_frame}))}return"all"!==E&&(a=a.filter(e=>{let[a,t]=e;return x(t)===E})),a},O=()=>{d(""),p(""),h("all")},j=()=>m||u||"all"!==E;return l.a.createElement("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"}},l.a.createElement("h1",null,"Analytics Dashboard"),l.a.createElement("div",{className:"outputs-actions"},l.a.createElement("button",{className:"analytics-btn",onClick:async()=>{r(!0),c(null);try{const e=await fetch("http://127.0.0.1:5000/analytics"),t=await e.json();if(!e.ok)throw new Error(t.error||"Failed to fetch analytics");a(t),o(!0)}catch(e){console.error("Error loading analytics:",e),c(e.message),o(!0)}finally{r(!1)}},disabled:t},t?"Loading...":"\ud83d\udcca View Analytics"),l.a.createElement(N,null)),s&&l.a.createElement("div",{className:"analytics-error"},l.a.createElement("h3",null,"\u274c Error Loading Analytics"),l.a.createElement("p",null,s),l.a.createElement("p",null,"Please check if your CSV file is uploaded and try again.")),t&&l.a.createElement("div",{className:"analytics-loading"},l.a.createElement("div",{className:"spinner"}),l.a.createElement("p",null,"Loading analytics data...")),i&&e&&!t&&l.a.createElement("div",{className:"analytics-dashboard"},l.a.createElement("div",{className:"analytics-header"},l.a.createElement("h2",null,"\ud83d\udcca Analytics Dashboard"),l.a.createElement("button",{className:"close-analytics-btn",onClick:()=>o(!1)},"\u2715")),l.a.createElement("div",{className:"frame-info"},l.a.createElement("div",{className:"frame-range"},"Frame ",e.start_frame," - ",e.end_frame),l.a.createElement("div",{className:"frame-label"},"Analysis Range \u2022 Total: ",e.end_frame-e.start_frame+1," frames")),l.a.createElement(k,{title:"Key Metrics",icon:g.a,defaultOpen:!0},l.a.createElement("div",{className:"metrics-grid"},Object.entries((()=>{const{metrics:a}=e;return{"Total Tracks":a.total_tracks,"Total Frames":a.total_frames,"Avg Detections/Frame":a.avg_detections_per_frame}})()).map(e=>{let[a,t]=e;return l.a.createElement(w,{key:a,label:a,value:t,type:"highlight"})}))),l.a.createElement(k,{title:"Performance Metrics",icon:f.a},l.a.createElement("div",{className:"metrics-grid"},Object.entries((()=>{const{metrics:a}=e;return{"Avg Track Duration":a.avg_track_duration,"Max Track Duration":a.max_track_duration,"Min Track Duration":a.min_track_duration,"Avg Track Fragmentation":a.avg_track_fragmentation,"Avg Size Consistency":a.avg_size_consistency,"Avg Confidence Stability":a.avg_confidence_stability}})()).map(e=>{let[a,t]=e;return l.a.createElement(w,{key:a,label:a,value:t,type:"default"})}))),l.a.createElement(k,{title:"Individual Tracks",icon:b.a},l.a.createElement("div",{className:"tracks-search-container"},l.a.createElement("div",{className:"search-inputs-row"},l.a.createElement("div",{className:"search-input-container"},l.a.createElement("label",{className:"search-input-label"},"Search by Track ID"),l.a.createElement(v.a,{className:"search-icon",size:16}),l.a.createElement("input",{type:"text",className:"search-input",placeholder:"Enter track ID (e.g., 1, 2, 3...)",value:m,onChange:e=>d(e.target.value)}),m&&l.a.createElement("button",{className:"clear-search",onClick:()=>d("")},l.a.createElement(y.a,{size:14}))),l.a.createElement("div",{className:"search-input-container"},l.a.createElement("label",{className:"search-input-label"},"Search by Frame Number"),l.a.createElement(v.a,{className:"search-icon",size:16}),l.a.createElement("input",{type:"number",className:"search-input",placeholder:"Enter frame number (e.g., 105)",value:u,onChange:e=>p(e.target.value),min:"1"}),u&&l.a.createElement("button",{className:"clear-search",onClick:()=>p("")},l.a.createElement(y.a,{size:14}))),j()&&l.a.createElement("button",{className:"clear-all-searches",onClick:O},"Clear All")),l.a.createElement("div",{className:"filter-container"},l.a.createElement("span",{className:"filter-label"},"Filter by Quality:"),l.a.createElement("div",{className:"status-filters"},Object.entries((()=>{const a=Object.entries(e.tracks_summary),t={all:a.length,excellent:0,good:0,fair:0,poor:0};return a.forEach(e=>{let[a,n]=e;const l=x(n);t[l]++}),t})()).map(e=>{let[a,t]=e;return l.a.createElement("button",{key:a,className:`status-filter-btn ${a} ${E===a?"active":""}`,onClick:()=>h(a)},a," (",t,")")}))),j()&&l.a.createElement("div",{className:"search-results-info"},l.a.createElement("span",{className:"results-count"},"Showing ",S().length," of ",Object.keys(e.tracks_summary).length," tracks",m&&` \u2022 Track ID: "${m}"`,u&&" \u2022 Frame: "+u,"all"!==E&&" \u2022 Quality: "+E),l.a.createElement("button",{className:"clear-all-btn",onClick:O},"Clear Filters"))),S().length>0?l.a.createElement("div",{className:"tracks-grid"},S().map(e=>{let[a,t]=e;return l.a.createElement(C,{key:a,trackId:a,summary:t,trackStatus:x(t)})})):l.a.createElement("div",{className:"no-results"},l.a.createElement("h3",null,"No tracks found"),l.a.createElement("p",null,m&&`No tracks found with ID containing "${m}"`,u&&!m&&"No tracks found containing frame "+u,m&&u&&" or containing frame "+u,!m&&!u&&"all"!==E&&`No ${E} quality tracks found`,!m&&!u&&"all"===E&&"Try adjusting your search criteria")))))},S=t(45),O=t(46),j=t(47);t(33);var D=()=>{const[e,a]=Object(n.useState)(!1),[t,r]=Object(n.useState)("all"),[s,c]=Object(n.useState)([]),[i,o]=Object(n.useState)([]),[m,d]=Object(n.useState)(""),[u,p]=Object(n.useState)(null),E=()=>{a(!1)},h=e=>{r(e),"all"===e&&b("/render-all-ids")},g=()=>{if(m.trim()&&!s.includes(m.trim())&&!i.includes(m.trim())){const e=[...s,m.trim()];c(e),d("")}},f=()=>m.trim()&&(s.includes(m.trim())||i.includes(m.trim())),b=async function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;try{let n={};"/render-specific-ids"===e&&(n={ids:a},t&&(n.mode=t));const l=`${"http://127.0.0.1:5000"}${e}`;console.log("Calling endpoint: "+l,n);const r=await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(r.ok){const a=await r.json();console.log(`Successfully called ${e}:`,a)}else{const a=await r.text();console.error(`Failed to call ${e}:`,r.status,a)}}catch(n){console.error(`Error calling ${e}:`,n)}},v=s.length+i.length;return l.a.createElement(l.a.Fragment,null,l.a.createElement("button",{onClick:()=>{a(!e)},className:"hamburger-btn","aria-label":"Open access menu"},l.a.createElement(S.a,{size:24})),e&&l.a.createElement("div",{className:"access-overlay",onClick:E}),l.a.createElement("div",{className:"access-bar "+(e?"open":"")},l.a.createElement("div",{className:"access-header"},l.a.createElement("h2",null,"Menu"),l.a.createElement("button",{onClick:E,className:"close-btn","aria-label":"Close access menu"},l.a.createElement(y.a,{size:24}))),l.a.createElement("div",{className:"access-content"},l.a.createElement("div",{className:"nav-section"},l.a.createElement("h3",null,"Display"),l.a.createElement("div",{className:"nav-items"},l.a.createElement("div",{className:"radio-group"},l.a.createElement("label",{className:"radio-option"},l.a.createElement("input",{type:"radio",name:"displayMode",value:"all",checked:"all"===t,onChange:()=>h("all")}),l.a.createElement("span",null,"All IDs")),l.a.createElement("label",{className:"radio-option"},l.a.createElement("input",{type:"radio",name:"displayMode",value:"specific",checked:"specific"===t,onChange:()=>h("specific")}),l.a.createElement("span",null,"Specific IDs"))),"specific"===t&&l.a.createElement("div",{className:"specific-ids-section"},l.a.createElement("div",{className:"id-input-container"},l.a.createElement("input",{type:"text",value:m,onChange:e=>d(e.target.value),onKeyPress:e=>{"Enter"===e.key&&!f()&&m.trim()&&g()},placeholder:"Enter ID",className:"id-input"}),l.a.createElement("div",{className:"action-buttons"},l.a.createElement("button",{onClick:g,className:"include-id-btn",disabled:!m.trim()||f()},"Include"),l.a.createElement("button",{onClick:()=>{if(m.trim()&&!i.includes(m.trim())&&!s.includes(m.trim())){const e=[...i,m.trim()];o(e),d("")}},className:"exclude-id-btn",disabled:!m.trim()||f()},"Exclude"))),f()&&l.a.createElement("div",{className:"duplicate-warning"},"ID already exists in one of the lists"),s.length>0&&l.a.createElement("div",{className:"ids-list"},l.a.createElement("h4",{className:"list-title include-title"},"Include IDs (Show Only These)"),s.map((e,a)=>l.a.createElement("div",{key:a,className:"id-item include-id"},l.a.createElement("span",{className:"id-text"},e),l.a.createElement("button",{onClick:()=>(e=>{const a=s.filter(a=>a!==e);c(a)})(e),className:"delete-id-btn","aria-label":"Delete ID "+e},l.a.createElement(O.a,{size:16}))))),i.length>0&&l.a.createElement("div",{className:"ids-list"},l.a.createElement("h4",{className:"list-title exclude-title"},"Exclude IDs (Hide These)"),i.map((e,a)=>l.a.createElement("div",{key:a,className:"id-item exclude-id"},l.a.createElement("span",{className:"id-text"},e),l.a.createElement("button",{onClick:()=>(e=>{const a=i.filter(a=>a!==e);o(a)})(e),className:"delete-id-btn","aria-label":"Delete ID "+e},l.a.createElement(O.a,{size:16}))))),v>0&&l.a.createElement("div",{className:"filter-actions"},l.a.createElement("button",{onClick:()=>{"specific"===t&&(s.length>0&&0===i.length?(console.log("Including only IDs:",s),b("/render-specific-ids",s,"include")):i.length>0&&0===s.length?(console.log("Excluding IDs:",i),b("/render-specific-ids",i,"exclude")):s.length>0&&i.length>0?(console.warn("Both include and exclude IDs specified - prioritizing include mode"),b("/render-specific-ids",s,"include")):console.warn("No IDs specified for filtering"))},className:"apply-filter-btn"},"Apply Filter (",v," IDs)"),l.a.createElement("button",{onClick:async()=>{try{const e="http://127.0.0.1:5000",a=await fetch(e+"/clear-specific-ids",{method:"POST",headers:{"Content-Type":"application/json"}});if(a.ok){const e=await a.json();c([]),o([]),r("all"),console.log("Successfully cleared specific IDs:",e)}else{const e=await a.text();console.error("Failed to clear specific IDs:",a.status,e)}}catch(e){console.error("Error clearing specific IDs:",e)}},className:"clear-all-btn"},l.a.createElement(j.a,{size:16}),"Clear All"))))))))},I=(t(34),t(48)),T=t(49);t(35);var F=function(){const e=Object(i.p)();return l.a.createElement("div",{className:"installation-container"},l.a.createElement("header",{className:"installation-header"},l.a.createElement("button",{onClick:()=>e("/"),className:"back-button"},"\u2190 Back to Home"),l.a.createElement("h1",null,"Download TrackVision"),l.a.createElement("p",{className:"header-subtitle"},"Get the desktop application for enhanced performance and offline capabilities")),l.a.createElement("section",{className:"download-section"},l.a.createElement("h2",null,"Choose Your Platform"),l.a.createElement("div",{className:"download-table-container"},l.a.createElement("table",{className:"download-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Operating System"),l.a.createElement("th",null,"Version"),l.a.createElement("th",null,"File Size"),l.a.createElement("th",null,"Download"))),l.a.createElement("tbody",null,[{os:"Windows",icon:"\ud83e\ude9f",version:"11/10/8",filename:"TrackVision-Setup-Windows.exe",size:"124 MB",url:"https://drive.google.com/uc?export=download&id=17QnycGIJuwG9kJ0HWhODuq-xCAfGSjCq"},{os:"macOS",icon:"\ud83c\udf4e",version:"Intel & Apple Silicon",filename:"TrackVision-macOS-Universal.dmg",size:"98 MB",url:"https://releases.trackvision.com/v1.2.0/TrackVision-macOS-Universal.dmg"},{os:"Ubuntu/Debian",icon:"\ud83d\udc27",version:"20.04+",filename:"TrackVision-Linux-amd64.deb",size:"87 MB",url:"https://releases.trackvision.com/v1.2.0/TrackVision-Linux-amd64.deb"}].map((e,a)=>l.a.createElement("tr",{key:a,className:"download-row"},l.a.createElement("td",{className:"os-column"},l.a.createElement("span",{className:"os-icon"},e.icon),l.a.createElement("span",{className:"os-name"},e.os)),l.a.createElement("td",{className:"version-column"},e.version),l.a.createElement("td",{className:"size-column"},e.size),l.a.createElement("td",{className:"download-column"},l.a.createElement("button",{onClick:()=>((e,a)=>{const t=document.createElement("a");t.href=a,t.download=e,document.body.appendChild(t),t.click(),document.body.removeChild(t)})(e.filename,e.url),className:"download-btn"},l.a.createElement("span",{className:"download-icon"},"\u2b07\ufe0f"),"Download")))))))),l.a.createElement("section",{className:"installation-steps"},l.a.createElement("h2",null,"Installation Guide"),l.a.createElement("div",{className:"steps-container"},l.a.createElement("div",{className:"step-card"},l.a.createElement("div",{className:"step-header"},l.a.createElement("span",{className:"step-number"},"01"),l.a.createElement("h3",null,"Download & Extract")),l.a.createElement("p",null,"Download the backend package for your operating system from the links provided above. The backend is a standalone executable that does not require installation. Just double-click (or run via terminal) to start it. For macOS and Linux, you may need to set execute permissions using ",l.a.createElement("code",null,"chmod +x filename"),". Extract the files to a folder of your choice.")),l.a.createElement("div",{className:"step-card"},l.a.createElement("div",{className:"step-header"},l.a.createElement("span",{className:"step-number"},"02"),l.a.createElement("h3",null,"System Requirements")),l.a.createElement("p",null,"Ensure your system has the following:",l.a.createElement("ul",null,l.a.createElement("li",null,"At least 4 GB RAM"),l.a.createElement("li",null,"Internet connection (optional, only for updates)"),l.a.createElement("li",null,"A modern web browser to access the frontend")),"No additional dependencies or installations are needed for the backend executable.")),l.a.createElement("div",{className:"step-card"},l.a.createElement("div",{className:"step-header"},l.a.createElement("span",{className:"step-number"},"03"),l.a.createElement("h3",null,"Run the Backend")),l.a.createElement("p",null,"Open the folder and run the backend executable:",l.a.createElement("ul",null,l.a.createElement("li",null,"Windows: ",l.a.createElement("code",null,"app.exe")),l.a.createElement("li",null,"Mac: ",l.a.createElement("code",null,"./app_mac")),l.a.createElement("li",null,"Linux: ",l.a.createElement("code",null,"./app_linux"))),"A terminal window will appear showing logs of the backend server. Keep it running while using the frontend.")),l.a.createElement("div",{className:"step-card"},l.a.createElement("div",{className:"step-header"},l.a.createElement("span",{className:"step-number"},"04"),l.a.createElement("h3",null,"Access the Frontend")),l.a.createElement("p",null,"Open your web browser and go to ",l.a.createElement("a",{href:"https://sparshhgupta.github.io/trackvision.gui/"},"the frontend website"),". The frontend will automatically connect to the backend running on your machine. Perform your tasks as usual.")),l.a.createElement("div",{className:"step-card"},l.a.createElement("div",{className:"step-header"},l.a.createElement("span",{className:"step-number"},"05"),l.a.createElement("h3",null,"Exit & Cleanup")),l.a.createElement("p",null,"Once you are done, go back to the terminal running the backend and press ",l.a.createElement("code",null,"Ctrl + C")," to stop it. Any temporary files created during execution will remain in the backend folder. Delete them manually if they are no longer needed.")),l.a.createElement("div",{className:"step-card"},l.a.createElement("div",{className:"step-header"},l.a.createElement("span",{className:"step-number"},"06"),l.a.createElement("h3",null,"Support & Updates")),l.a.createElement("p",null,"For updates, bug reports, or support, visit our ",l.a.createElement("a",{href:"https://github.com/sparshhgupta/trackvision.gui"},"GitHub repository"),". New releases of the backend executable will be available here.")))),l.a.createElement("section",{className:"version-info"},l.a.createElement("div",{className:"version-card"},l.a.createElement("h3",null,"Current Version: v1.2.0"),l.a.createElement("p",{className:"release-date"},"Released: September 15, 2025"),l.a.createElement("div",{className:"version-highlights"},l.a.createElement("h4",null,"What's New:"),l.a.createElement("ul",null,l.a.createElement("li",null,"Enhanced batch processing performance"),l.a.createElement("li",null,"Improved CSV parsing accuracy"),l.a.createElement("li",null,"Bug fixes and stability improvements"),l.a.createElement("li",null,"In depth analysis at the end of your processing."))))),l.a.createElement("section",{className:"support-section"},l.a.createElement("div",{className:"support-card"},l.a.createElement("h3",null,"Need Help?"),l.a.createElement("p",null,"Having trouble with installation or setup?"),l.a.createElement("div",{className:"support-links"},l.a.createElement("a",{href:"#",className:"support-link"},"\ud83d\udcd6 Documentation"),l.a.createElement("a",{href:"#",className:"support-link"},"\ud83d\udcac Community Forum"),l.a.createElement("a",{href:"#",className:"support-link"},"\u2709\ufe0f Contact Support")))))};function _(){const[e,a]=Object(n.useState)(null),[t,r]=Object(n.useState)([]),[s,c]=Object(n.useState)(!1),o=Object(i.p)();return l.a.createElement("div",{className:"app "+(s?"dark-mode":"light-mode")},l.a.createElement("div",{className:"sidebar"},l.a.createElement(u,{csvFile:e,onCsvUpload:(e,t)=>{a(e),r(t)}}),l.a.createElement(D,null),l.a.createElement("button",{onClick:()=>c(!s),className:"toggle-theme-btn"},s?l.a.createElement(I.a,{size:20}):l.a.createElement(T.a,{size:20}))),l.a.createElement("div",{className:"main"},l.a.createElement(p,{csvFile:e})),l.a.createElement("div",{className:"actions"},e&&l.a.createElement("button",{onClick:()=>o("/outputs"),className:"go-to-outputs-btn"},"Go to Outputs")))}var A=function(){return l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(o,null)}),l.a.createElement(i.a,{path:"/app",element:l.a.createElement(_,null)}),l.a.createElement(i.a,{path:"/outputs",element:l.a.createElement(x,null)}),l.a.createElement(i.a,{path:"/installation",element:l.a.createElement(F,null)}))};var P=e=>{e&&e instanceof Function&&t.e(3).then(t.bind(null,51)).then(a=>{let{getCLS:t,getFID:n,getFCP:l,getLCP:r,getTTFB:s}=a;t(e),n(e),l(e),r(e),s(e)})};t(36);s.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(c.a,null,l.a.createElement(A,null)))),P()}],[[17,1,2]]]);
//# sourceMappingURL=main.7565b99a.chunk.js.map